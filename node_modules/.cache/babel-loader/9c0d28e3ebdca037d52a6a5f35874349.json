{"ast":null,"code":"'use strict';\n/**\n * Response error class\n */\n\nvar _classCallCheck = require(\"/Users/husnainmehmood/Desktop/Work/React/PP-AdminWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/husnainmehmood/Desktop/Work/React/PP-AdminWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _assertThisInitialized = require(\"/Users/husnainmehmood/Desktop/Work/React/PP-AdminWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"/Users/husnainmehmood/Desktop/Work/React/PP-AdminWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/husnainmehmood/Desktop/Work/React/PP-AdminWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar _wrapNativeSuper = require(\"/Users/husnainmehmood/Desktop/Work/React/PP-AdminWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/wrapNativeSuper\");\n\nvar ResponseError = /*#__PURE__*/function (_Error) {\n  _inherits(ResponseError, _Error);\n\n  var _super = _createSuper(ResponseError);\n\n  /**\n   * Constructor\n   */\n  function ResponseError(response) {\n    var _this;\n\n    _classCallCheck(this, ResponseError);\n\n    //Super\n    _this = _super.call(this); //Extract data from response\n\n    var headers = response.headers,\n        status = response.status,\n        statusText = response.statusText,\n        data = response.data; //Set data\n\n    _this.code = status;\n    _this.message = statusText;\n    _this.response = {\n      headers: headers,\n      body: data\n    }; //Capture stack trace\n\n    if (!_this.stack) {\n      Error.captureStackTrace(_assertThisInitialized(_this), _this.constructor);\n    } //Clean up stack trace\n\n\n    var regex = new RegExp(process.cwd() + '/', 'gi');\n    _this.stack = _this.stack.replace(regex, '');\n    return _this;\n  }\n  /**\n   * Convert to string\n   */\n\n\n  _createClass(ResponseError, [{\n    key: \"toString\",\n    value: function toString() {\n      var body = this.response.body;\n      var err = \"\".concat(this.message, \" (\").concat(this.code, \")\");\n\n      if (body && Array.isArray(body.errors)) {\n        body.errors.forEach(function (error) {\n          var message = error.message;\n          var field = error.field;\n          var help = error.help;\n          err += \"\\n  \".concat(message, \"\\n    \").concat(field, \"\\n    \").concat(help);\n        });\n      }\n\n      return err;\n    }\n    /**\n     * Convert to simple object for JSON responses\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var message = this.message,\n          code = this.code,\n          response = this.response;\n      return {\n        message: message,\n        code: code,\n        response: response\n      };\n    }\n  }]);\n\n  return ResponseError;\n}( /*#__PURE__*/_wrapNativeSuper(Error)); //Export\n\n\nmodule.exports = ResponseError;","map":{"version":3,"sources":["/Users/husnainmehmood/Desktop/Work/React/PP-AdminWeb/node_modules/@sendgrid/helpers/classes/response-error.js"],"names":["ResponseError","response","headers","status","statusText","data","code","message","body","stack","Error","captureStackTrace","constructor","regex","RegExp","process","cwd","replace","err","Array","isArray","errors","forEach","error","field","help","module","exports"],"mappings":"AAAA;AAEA;AACA;AACA;;;;;;;;;;;;;;IACMA,a;;;;;AAEJ;AACF;AACA;AACE,yBAAYC,QAAZ,EAAsB;AAAA;;AAAA;;AAEpB;AACA,8BAHoB,CAKpB;;AACA,QAAQC,OAAR,GAA8CD,QAA9C,CAAQC,OAAR;AAAA,QAAiBC,MAAjB,GAA8CF,QAA9C,CAAiBE,MAAjB;AAAA,QAAyBC,UAAzB,GAA8CH,QAA9C,CAAyBG,UAAzB;AAAA,QAAqCC,IAArC,GAA8CJ,QAA9C,CAAqCI,IAArC,CANoB,CAQpB;;AACA,UAAKC,IAAL,GAAYH,MAAZ;AACA,UAAKI,OAAL,GAAeH,UAAf;AACA,UAAKH,QAAL,GAAgB;AAAEC,MAAAA,OAAO,EAAPA,OAAF;AAAWM,MAAAA,IAAI,EAAEH;AAAjB,KAAhB,CAXoB,CAapB;;AACA,QAAI,CAAC,MAAKI,KAAV,EAAiB;AACfC,MAAAA,KAAK,CAACC,iBAAN,gCAA8B,MAAKC,WAAnC;AACD,KAhBmB,CAkBpB;;;AACA,QAAMC,KAAK,GAAG,IAAIC,MAAJ,CAAWC,OAAO,CAACC,GAAR,KAAgB,GAA3B,EAAgC,IAAhC,CAAd;AACA,UAAKP,KAAL,GAAa,MAAKA,KAAL,CAAWQ,OAAX,CAAmBJ,KAAnB,EAA0B,EAA1B,CAAb;AApBoB;AAqBrB;AAED;AACF;AACA;;;;;WACE,oBAAW;AACT,UAAQL,IAAR,GAAiB,KAAKP,QAAtB,CAAQO,IAAR;AACA,UAAIU,GAAG,aAAM,KAAKX,OAAX,eAAuB,KAAKD,IAA5B,MAAP;;AACA,UAAIE,IAAI,IAAIW,KAAK,CAACC,OAAN,CAAcZ,IAAI,CAACa,MAAnB,CAAZ,EAAwC;AACtCb,QAAAA,IAAI,CAACa,MAAL,CAAYC,OAAZ,CAAoB,UAAAC,KAAK,EAAI;AAC3B,cAAMhB,OAAO,GAAGgB,KAAK,CAAChB,OAAtB;AACA,cAAMiB,KAAK,GAAGD,KAAK,CAACC,KAApB;AACA,cAAMC,IAAI,GAAGF,KAAK,CAACE,IAAnB;AACAP,UAAAA,GAAG,kBAAWX,OAAX,mBAA2BiB,KAA3B,mBAAyCC,IAAzC,CAAH;AACD,SALD;AAMD;;AACD,aAAOP,GAAP;AACD;AAED;AACF;AACA;;;;WACE,kBAAS;AACP,UAAQX,OAAR,GAAoC,IAApC,CAAQA,OAAR;AAAA,UAAiBD,IAAjB,GAAoC,IAApC,CAAiBA,IAAjB;AAAA,UAAuBL,QAAvB,GAAoC,IAApC,CAAuBA,QAAvB;AACA,aAAO;AAAEM,QAAAA,OAAO,EAAPA,OAAF;AAAWD,QAAAA,IAAI,EAAJA,IAAX;AAAiBL,QAAAA,QAAQ,EAARA;AAAjB,OAAP;AACD;;;;iCAnDyBS,K,IAsD5B;;;AACAgB,MAAM,CAACC,OAAP,GAAiB3B,aAAjB","sourcesContent":["'use strict';\n\n/**\n * Response error class\n */\nclass ResponseError extends Error {\n\n  /**\n   * Constructor\n   */\n  constructor(response) {\n\n    //Super\n    super();\n\n    //Extract data from response\n    const { headers, status, statusText, data } = response;\n\n    //Set data\n    this.code = status;\n    this.message = statusText;\n    this.response = { headers, body: data };\n\n    //Capture stack trace\n    if (!this.stack) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n\n    //Clean up stack trace\n    const regex = new RegExp(process.cwd() + '/', 'gi');\n    this.stack = this.stack.replace(regex, '');\n  }\n\n  /**\n   * Convert to string\n   */\n  toString() {\n    const { body } = this.response;\n    let err = `${this.message} (${this.code})`;\n    if (body && Array.isArray(body.errors)) {\n      body.errors.forEach(error => {\n        const message = error.message;\n        const field = error.field;\n        const help = error.help;\n        err += `\\n  ${message}\\n    ${field}\\n    ${help}`;\n      });\n    }\n    return err;\n  }\n\n  /**\n   * Convert to simple object for JSON responses\n   */\n  toJSON() {\n    const { message, code, response } = this;\n    return { message, code, response };\n  }\n}\n\n//Export\nmodule.exports = ResponseError;\n"]},"metadata":{},"sourceType":"script"}