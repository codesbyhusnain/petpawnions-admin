{"ast":null,"code":"import _slicedToArray from\"/Users/husnainmehmood/Desktop/Work/React/PP-AdminWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Row,Col,Button,Container,Label,UncontrolledAlert}from\"reactstrap\";import AdminUserPool from\"./AdminUserPool\";import{CognitoUser}from\"amazon-cognito-identity-js\";// availity-reactstrap-validation\nimport{AvForm,AvField}from\"availity-reactstrap-validation\";import\"./RegisterAdmin.scss\";// Redux\nimport{Link,Redirect}from\"react-router-dom\";// import images\nimport logodark from\"../../assets/images/logo-dark.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterAdmin=function RegisterAdmin(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),phone=_useState4[0],setPhone=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),confirmPassword=_useState10[0],setConfirmPassword=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),code=_useState12[0],setCode=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),step=_useState14[0],setStep=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),otpSuccess=_useState16[0],setOtpSuccess=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),redirect=_useState18[0],setRedirect=_useState18[1];// const poolData = {\n//   UserPoolId: \"ap-south-1_laNRncKhd\",\n//   ClientId: \"hd1ls0cm7qr9r6vaimtnvv4l0\",\n// };\n// const UserPool = new CognitoUserPool(poolData);\nvar cognitoUser=new CognitoUser({Username:email,Pool:AdminUserPool});var signUp=function signUp(event){event.preventDefault();AdminUserPool.signUp(email,password,[],null,function(err,data){if(err)console.log(err);console.log(data);if(data){setStep(1);}});};var confirmSignup=function confirmSignup(event){event.preventDefault();cognitoUser.confirmRegistration(code,true,function(err,result){if(err){alert(err.message||JSON.stringify(err));setOtpSuccess(false);return;}if(result.toString()===\"SUCCESS\"){setOtpSuccess(true);}});};return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{fluid:true,className:\"p-0\",children:/*#__PURE__*/_jsxs(Row,{className:\"g-0\",children:[/*#__PURE__*/_jsx(Col,{lg:5,children:/*#__PURE__*/_jsx(\"div\",{className:\"authentication-page-content p-4 d-flex align-items-center min-vh-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{lg:9,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:logodark,height:\"20\",alt:\"logo\"}),step===0?/*#__PURE__*/_jsx(\"h4\",{className:\"font-size-18 mt-4\",children:\"Register Your Admin Account\"}):/*#__PURE__*/_jsx(\"h4\",{className:\"font-size-18 mt-4\",children:\"Verify your Email\"})]})})}),step===0?/*#__PURE__*/_jsx(\"div\",{className:\"p-2 mt-5\",children:/*#__PURE__*/_jsxs(AvForm,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-user-3-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{htmlFor:\"useremail\",children:\"Full Name\"}),/*#__PURE__*/_jsx(AvField,{name:\"firstname\",validate:{required:true},type:\"text\",className:\"form-control\",id:\"firstname\",placeholder:\"Enter your full name\",onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-mail-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{htmlFor:\"useremail\",children:\"Email\"}),/*#__PURE__*/_jsx(AvField,{name:\"email\",validate:{email:true,required:true},type:\"email\",className:\"form-control\",id:\"useremail\",placeholder:\"Enter your email\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-phone-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{children:\"Mobile\"}),/*#__PURE__*/_jsx(AvField,{name:\"text\",type:\"text\",placeholder:\"Enter your phone\",validate:{pattern:{value:\"^[0-9]+$\"}},onChange:function onChange(e){return setPhone(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-lock-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{htmlFor:\"useremail\",children:\"Password\"}),/*#__PURE__*/_jsx(AvField,{name:\"password\",placeholder:\"Enter your password\",type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-lock-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{htmlFor:\"useremail\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(AvField,{name:\"password\",placeholder:\"Confirm your password\",type:\"password\",onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Button,{color:\"primary\",className:\"w-md waves-effect waves-light\",type:\"submit\",onClick:signUp,children:\"Register\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"By registering you agree to the Nazox\",/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"text-primary\",children:[\" \",\"Terms of Use\"]})]})})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"verify-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"verify-info-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"verify-info\",style:{textAlign:\"center\"},children:\"We have sent an OTP (One Time Password) to you. Please enter the code below to continue\"}),otpSuccess?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(UncontrolledAlert,{color:\"success\",className:\"alert-dismissible fade show\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-check-all me-2\"}),\"OTP Verified! You will be redirected to login!\"]}),setTimeout(function(){setRedirect(true);},2000),redirect?/*#__PURE__*/_jsx(Redirect,{to:\"/login\"}):null]}):null]}),/*#__PURE__*/_jsx(\"div\",{className:\"divOuter\",children:/*#__PURE__*/_jsx(\"div\",{className:\"divInner\",children:/*#__PURE__*/_jsx(\"input\",{className:\"resend-code-input\",type:\"text\",maxLength:6,onChange:function onChange(e){return setCode(e.target.value);}})})}),/*#__PURE__*/_jsx(\"p\",{className:\"resend-code\",style:{textAlign:\"center\"},children:\"Resend Code\"}),/*#__PURE__*/_jsx(\"div\",{className:\"continue-button\",children:/*#__PURE__*/_jsx(Button,{color:\"primary\",className:\"w-md waves-effect waves-light\",type:\"submit\",onClick:confirmSignup,children:\"Continue\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"cancel-button\",onClick:function onClick(){setStep(0);},children:[\" \",\"Cancel\",\" \"]})]})]})})})})})}),/*#__PURE__*/_jsx(Col,{lg:7,children:/*#__PURE__*/_jsx(\"div\",{className:\"authentication-bg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-overlay\"})})})]})})})});};export default RegisterAdmin;","map":{"version":3,"sources":["/Users/husnainmehmood/Desktop/Work/React/PP-AdminWeb/src/pages/Authentication/RegisterAdmin.js"],"names":["React","useState","Row","Col","Button","Container","Label","UncontrolledAlert","AdminUserPool","CognitoUser","AvForm","AvField","Link","Redirect","logodark","RegisterAdmin","email","setEmail","phone","setPhone","name","setName","password","setPassword","confirmPassword","setConfirmPassword","code","setCode","step","setStep","otpSuccess","setOtpSuccess","redirect","setRedirect","cognitoUser","Username","Pool","signUp","event","preventDefault","err","data","console","log","confirmSignup","confirmRegistration","result","alert","message","JSON","stringify","toString","required","e","target","value","pattern","textAlign","setTimeout"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Row,\n  Col,\n  Button,\n  Container,\n  Label,\n  UncontrolledAlert,\n} from \"reactstrap\";\n\nimport AdminUserPool from \"./AdminUserPool\";\n\nimport { CognitoUser } from \"amazon-cognito-identity-js\";\n// availity-reactstrap-validation\nimport { AvForm, AvField } from \"availity-reactstrap-validation\";\n\nimport \"./RegisterAdmin.scss\";\n\n// Redux\nimport { Link, Redirect } from \"react-router-dom\";\n\n// import images\nimport logodark from \"../../assets/images/logo-dark.png\";\n\nconst RegisterAdmin = () => {\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const [step, setStep] = useState(0);\n  const [otpSuccess, setOtpSuccess] = useState();\n  const [redirect, setRedirect] = useState(false);\n\n  // const poolData = {\n  //   UserPoolId: \"ap-south-1_laNRncKhd\",\n  //   ClientId: \"hd1ls0cm7qr9r6vaimtnvv4l0\",\n  // };\n\n  // const UserPool = new CognitoUserPool(poolData);\n\n  const cognitoUser = new CognitoUser({\n    Username: email,\n    Pool: AdminUserPool,\n  });\n\n  const signUp = (event) => {\n    event.preventDefault();\n\n    AdminUserPool.signUp(email, password, [], null, (err, data) => {\n      if (err) console.log(err);\n      console.log(data);\n      if (data) {\n        setStep(1);\n      }\n    });\n  };\n\n  const confirmSignup = (event) => {\n    event.preventDefault();\n    cognitoUser.confirmRegistration(code, true, (err, result) => {\n      if (err) {\n        alert(err.message || JSON.stringify(err));\n        setOtpSuccess(false);\n        return;\n      }\n      if (result.toString() === \"SUCCESS\") {\n        setOtpSuccess(true);\n      }\n    });\n  };\n\n  return (\n    <React.Fragment>\n      <div>\n        <Container fluid className=\"p-0\">\n          <Row className=\"g-0\">\n            <Col lg={5}>\n              <div className=\"authentication-page-content p-4 d-flex align-items-center min-vh-100\">\n                <div className=\"w-100\">\n                  <Row className=\"justify-content-center\">\n                    <Col lg={9}>\n                      <div>\n                        <div className=\"text-center\">\n                          <div>\n                            <Link to=\"#\" className=\"logo\">\n                              <img src={logodark} height=\"20\" alt=\"logo\" />\n                              {step === 0 ? (\n                                <h4 className=\"font-size-18 mt-4\">\n                                  Register Your Admin Account\n                                </h4>\n                              ) : (\n                                <h4 className=\"font-size-18 mt-4\">\n                                  Verify your Email\n                                </h4>\n                              )}\n                            </Link>\n                          </div>\n                        </div>\n                        {step === 0 ? (\n                          <div className=\"p-2 mt-5\">\n                            <AvForm>\n                              <div className=\"auth-form-group-custom mb-4\">\n                                <i className=\"ri-user-3-line auti-custom-input-icon\"></i>\n                                <Label htmlFor=\"useremail\">Full Name</Label>\n                                <AvField\n                                  name=\"firstname\"\n                                  validate={{ required: true }}\n                                  type=\"text\"\n                                  className=\"form-control\"\n                                  id=\"firstname\"\n                                  placeholder=\"Enter your full name\"\n                                  onChange={(e) => setName(e.target.value)}\n                                />\n                              </div>\n\n                              <div className=\"auth-form-group-custom mb-4\">\n                                <i className=\"ri-mail-line auti-custom-input-icon\"></i>\n                                <Label htmlFor=\"useremail\">Email</Label>\n                                <AvField\n                                  name=\"email\"\n                                  validate={{ email: true, required: true }}\n                                  type=\"email\"\n                                  className=\"form-control\"\n                                  id=\"useremail\"\n                                  placeholder=\"Enter your email\"\n                                  onChange={(e) => setEmail(e.target.value)}\n                                />\n                              </div>\n                              <div className=\"auth-form-group-custom mb-4\">\n                                <i className=\"ri-phone-line auti-custom-input-icon\"></i>\n                                <Label>Mobile</Label>\n                                <AvField\n                                  name=\"text\"\n                                  type=\"text\"\n                                  placeholder=\"Enter your phone\"\n                                  validate={{\n                                    pattern: {\n                                      value: \"^[0-9]+$\",\n                                    },\n                                  }}\n                                  onChange={(e) => setPhone(e.target.value)}\n                                />\n                              </div>\n                              <div className=\"auth-form-group-custom mb-4\">\n                                <i className=\"ri-lock-line auti-custom-input-icon\"></i>\n                                <Label htmlFor=\"useremail\">Password</Label>\n                                <AvField\n                                  name=\"password\"\n                                  placeholder=\"Enter your password\"\n                                  type=\"password\"\n                                  onChange={(e) => setPassword(e.target.value)}\n                                />\n                              </div>\n                              <div className=\"auth-form-group-custom mb-4\">\n                                <i className=\"ri-lock-line auti-custom-input-icon\"></i>\n                                <Label htmlFor=\"useremail\">\n                                  Confirm Password\n                                </Label>\n                                <AvField\n                                  name=\"password\"\n                                  placeholder=\"Confirm your password\"\n                                  type=\"password\"\n                                  onChange={(e) =>\n                                    setConfirmPassword(e.target.value)\n                                  }\n                                />\n                              </div>\n\n                              <div className=\"text-center\">\n                                <Button\n                                  color=\"primary\"\n                                  className=\"w-md waves-effect waves-light\"\n                                  type=\"submit\"\n                                  onClick={signUp}\n                                >\n                                  Register\n                                </Button>\n                              </div>\n\n                              <div className=\"mt-4 text-center\">\n                                <p className=\"mb-0\">\n                                  By registering you agree to the Nazox\n                                  <Link to=\"#\" className=\"text-primary\">\n                                    {\" \"}\n                                    Terms of Use\n                                  </Link>\n                                </p>\n                              </div>\n                            </AvForm>\n                          </div>\n                        ) : (\n                          <div className=\"verify-form\">\n                            <div className=\"verify-info-container\">\n                              <p\n                                className=\"verify-info\"\n                                style={{ textAlign: \"center\" }}\n                              >\n                                We have sent an OTP (One Time Password) to you.\n                                Please enter the code below to continue\n                              </p>\n                              {otpSuccess ? (\n                                <div>\n                                  <UncontrolledAlert\n                                    color=\"success\"\n                                    className=\"alert-dismissible fade show\"\n                                    role=\"alert\"\n                                  >\n                                    <i className=\"mdi mdi-check-all me-2\"></i>\n                                    OTP Verified! You will be redirected to\n                                    login!\n                                  </UncontrolledAlert>\n                                  {setTimeout(() => {\n                                    setRedirect(true);\n                                  }, 2000)}\n                                  {redirect ? <Redirect to=\"/login\" /> : null}\n                                </div>\n                              ) : null}\n                            </div>\n                            <div className=\"divOuter\">\n                              <div className=\"divInner\">\n                                <input\n                                  className=\"resend-code-input\"\n                                  type=\"text\"\n                                  maxLength={6}\n                                  onChange={(e) => setCode(e.target.value)}\n                                />\n                              </div>\n                            </div>\n                            <p\n                              className=\"resend-code\"\n                              style={{ textAlign: \"center\" }}\n                            >\n                              Resend Code\n                            </p>\n                            <div className=\"continue-button\">\n                              <Button\n                                color=\"primary\"\n                                className=\"w-md waves-effect waves-light\"\n                                type=\"submit\"\n                                onClick={confirmSignup}\n                              >\n                                Continue\n                              </Button>\n                            </div>\n                            <p\n                              className=\"cancel-button\"\n                              onClick={() => {\n                                setStep(0);\n                              }}\n                            >\n                              {\" \"}\n                              Cancel{\" \"}\n                            </p>\n                          </div>\n                        )}\n                      </div>\n                    </Col>\n                  </Row>\n                </div>\n              </div>\n            </Col>\n            <Col lg={7}>\n              <div className=\"authentication-bg\">\n                <div className=\"bg-overlay\"></div>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default RegisterAdmin;\n"]},"metadata":{},"sourceType":"module"}