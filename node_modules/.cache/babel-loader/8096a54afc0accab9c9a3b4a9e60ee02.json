{"ast":null,"code":"import _slicedToArray from\"/Users/husnainmehmood/Desktop/Work/React/PP-AdminWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Row,Col,Button,Container,Label,UncontrolledAlert}from\"reactstrap\";import AuthorUserPool from\"./AuthorUserPool.js\";import{CognitoUser}from\"amazon-cognito-identity-js\";// availity-reactstrap-validation\nimport{AvForm,AvField}from\"availity-reactstrap-validation\";import\"./RegisterAdmin.scss\";// Redux\nimport{Link,Redirect}from\"react-router-dom\";// import images\nimport logodark from\"../../assets/images/logo-dark.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterAdmin=function RegisterAdmin(){//FIELD DATA\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),phone=_useState4[0],setPhone=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),confirmPassword=_useState10[0],setConfirmPassword=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),address=_useState12[0],setAddress=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),postalCode=_useState14[0],setPostalCode=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),city=_useState16[0],setCity=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),county=_useState18[0],setCounty=_useState18[1];//FLAGS\nvar _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),code=_useState20[0],setCode=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),step=_useState22[0],setStep=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),otpSuccess=_useState24[0],setOtpSuccess=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),redirect=_useState26[0],setRedirect=_useState26[1];// const poolData = {\n//   UserPoolId: \"ap-south-1_laNRncKhd\",\n//   ClientId: \"hd1ls0cm7qr9r6vaimtnvv4l0\",\n// };\n// const UserPool = new CognitoUserPool(poolData);\nvar cognitoUser=new CognitoUser({Username:email,Pool:AuthorUserPool});var signUp=function signUp(event){event.preventDefault();AuthorUserPool.signUp(email,password,[],null,function(err,data){if(err)console.log(err);console.log(data);if(data){setStep(1);}});};var confirmSignup=function confirmSignup(event){event.preventDefault();cognitoUser.confirmRegistration(code,true,function(err,result){if(err){alert(err.message||JSON.stringify(err));setOtpSuccess(false);return;}if(result.toString()===\"SUCCESS\"){setOtpSuccess(true);}});};return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{fluid:true,className:\"p-0\",children:/*#__PURE__*/_jsxs(Row,{className:\"g-0\",children:[/*#__PURE__*/_jsx(Col,{lg:5,style:{overflow:\"scroll\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"authentication-page-content p-4 d-flex align-items-center min-vh-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{lg:9,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"80%\"},children:/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:logodark,height:\"20\",alt:\"logo\"}),step===0?/*#__PURE__*/_jsx(\"h4\",{className:\"font-size-18 mt-4\",children:\"Register Your Author Account\"}):/*#__PURE__*/_jsx(\"h4\",{className:\"font-size-18 mt-4\",children:\"Verify your Email\"})]})})}),step===0?/*#__PURE__*/_jsx(\"div\",{className:\"p-2 mt-5\",children:/*#__PURE__*/_jsxs(AvForm,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-user-3-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{htmlFor:\"useremail\",children:\"Full Name\"}),/*#__PURE__*/_jsx(AvField,{name:\"firstname\",validate:{required:true},type:\"text\",className:\"form-control\",id:\"firstname\",placeholder:\"Enter your full name\",onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-mail-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{htmlFor:\"useremail\",children:\"Email\"}),/*#__PURE__*/_jsx(AvField,{name:\"email\",validate:{email:true,required:true},type:\"email\",className:\"form-control\",id:\"useremail\",placeholder:\"Enter your email\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-phone-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{children:\"Mobile\"}),/*#__PURE__*/_jsx(AvField,{name:\"text\",type:\"text\",placeholder:\"Enter your phone\",validate:{pattern:{value:\"^[0-9]+$\"}},onChange:function onChange(e){return setPhone(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-lock-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{htmlFor:\"useremail\",children:\"Password\"}),/*#__PURE__*/_jsx(AvField,{name:\"password\",placeholder:\"Enter your password\",type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-lock-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{htmlFor:\"useremail\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(AvField,{name:\"password\",placeholder:\"Confirm your password\",type:\"password\",onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-home-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{children:\"Address\"}),/*#__PURE__*/_jsx(AvField,{name:\"text\",type:\"text\",placeholder:\"Enter your address\",onChange:function onChange(e){return setAddress(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-mail-send-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{children:\"Postal Code\"}),/*#__PURE__*/_jsx(AvField,{name:\"text\",type:\"text\",placeholder:\"Enter your postal code\",onChange:function onChange(e){return setPostalCode(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-building-4-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{children:\"City\"}),/*#__PURE__*/_jsx(AvField,{name:\"text\",type:\"text\",placeholder:\"Enter your phone\",onChange:function onChange(e){return setCity(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-building-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(Label,{children:\"County\"}),/*#__PURE__*/_jsx(AvField,{name:\"text\",type:\"text\",placeholder:\"Enter your phone\",onChange:function onChange(e){return setCounty(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Button,{color:\"primary\",className:\"w-md waves-effect waves-light\",type:\"submit\",onClick:signUp,children:\"Register\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"By registering you agree to the Nazox\",/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"text-primary\",children:[\" \",\"Terms of Use\"]})]})})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"verify-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"verify-info-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"verify-info\",style:{textAlign:\"center\"},children:\"We have sent an OTP (One Time Password) to you. Please enter the code below to continue\"}),otpSuccess?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(UncontrolledAlert,{color:\"success\",className:\"alert-dismissible fade show\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-check-all me-2\"}),\"OTP Verified! You will be redirected to login!\"]}),setTimeout(function(){setRedirect(true);},2000),redirect?/*#__PURE__*/_jsx(Redirect,{to:\"/login\"}):null]}):null]}),/*#__PURE__*/_jsx(\"div\",{className:\"divOuter\",children:/*#__PURE__*/_jsx(\"div\",{className:\"divInner\",children:/*#__PURE__*/_jsx(\"input\",{className:\"resend-code-input\",type:\"text\",maxLength:6,onChange:function onChange(e){return setCode(e.target.value);}})})}),/*#__PURE__*/_jsx(\"p\",{className:\"resend-code\",style:{textAlign:\"center\"},children:\"Resend Code\"}),/*#__PURE__*/_jsx(\"div\",{className:\"continue-button\",children:/*#__PURE__*/_jsx(Button,{color:\"primary\",className:\"w-md waves-effect waves-light\",type:\"submit\",onClick:confirmSignup,children:\"Continue\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"cancel-button\",onClick:function onClick(){setStep(0);},children:[\" \",\"Cancel\",\" \"]})]})]})})})})})}),/*#__PURE__*/_jsx(Col,{lg:7,children:/*#__PURE__*/_jsx(\"div\",{className:\"authentication-bg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-overlay\"})})})]})})})});};export default RegisterAdmin;","map":{"version":3,"sources":["/Users/husnainmehmood/Desktop/Work/React/PP-AdminWeb/src/pages/Authentication/RegisterAuthor.js"],"names":["React","useState","Row","Col","Button","Container","Label","UncontrolledAlert","AuthorUserPool","CognitoUser","AvForm","AvField","Link","Redirect","logodark","RegisterAdmin","email","setEmail","phone","setPhone","name","setName","password","setPassword","confirmPassword","setConfirmPassword","address","setAddress","postalCode","setPostalCode","city","setCity","county","setCounty","code","setCode","step","setStep","otpSuccess","setOtpSuccess","redirect","setRedirect","cognitoUser","Username","Pool","signUp","event","preventDefault","err","data","console","log","confirmSignup","confirmRegistration","result","alert","message","JSON","stringify","toString","overflow","marginTop","required","e","target","value","pattern","textAlign","setTimeout"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Container,\r\n  Label,\r\n  UncontrolledAlert,\r\n} from \"reactstrap\";\r\n\r\nimport AuthorUserPool from \"./AuthorUserPool.js\";\r\n\r\nimport { CognitoUser } from \"amazon-cognito-identity-js\";\r\n// availity-reactstrap-validation\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\";\r\n\r\nimport \"./RegisterAdmin.scss\";\r\n\r\n// Redux\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\n// import images\r\nimport logodark from \"../../assets/images/logo-dark.png\";\r\n\r\nconst RegisterAdmin = () => {\r\n  //FIELD DATA\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [postalCode, setPostalCode] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [county, setCounty] = useState(\"\");\r\n\r\n  //FLAGS\r\n  const [code, setCode] = useState(\"\");\r\n  const [step, setStep] = useState(0);\r\n  const [otpSuccess, setOtpSuccess] = useState();\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  // const poolData = {\r\n  //   UserPoolId: \"ap-south-1_laNRncKhd\",\r\n  //   ClientId: \"hd1ls0cm7qr9r6vaimtnvv4l0\",\r\n  // };\r\n\r\n  // const UserPool = new CognitoUserPool(poolData);\r\n\r\n  const cognitoUser = new CognitoUser({\r\n    Username: email,\r\n    Pool: AuthorUserPool,\r\n  });\r\n\r\n  const signUp = (event) => {\r\n    event.preventDefault();\r\n\r\n    AuthorUserPool.signUp(email, password, [], null, (err, data) => {\r\n      if (err) console.log(err);\r\n      console.log(data);\r\n      if (data) {\r\n        setStep(1);\r\n      }\r\n    });\r\n  };\r\n\r\n  const confirmSignup = (event) => {\r\n    event.preventDefault();\r\n    cognitoUser.confirmRegistration(code, true, (err, result) => {\r\n      if (err) {\r\n        alert(err.message || JSON.stringify(err));\r\n        setOtpSuccess(false);\r\n        return;\r\n      }\r\n      if (result.toString() === \"SUCCESS\") {\r\n        setOtpSuccess(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div>\r\n        <Container fluid className=\"p-0\">\r\n          <Row className=\"g-0\">\r\n            <Col lg={5} style={{ overflow: \"scroll\" }}>\r\n              <div className=\"authentication-page-content p-4 d-flex align-items-center min-vh-100\">\r\n                <div className=\"w-100\">\r\n                  <Row className=\"justify-content-center\">\r\n                    <Col lg={9}>\r\n                      <div>\r\n                        <div className=\"text-center\">\r\n                          <div style={{ marginTop: \"80%\" }}>\r\n                            <Link to=\"#\" className=\"logo\">\r\n                              <img src={logodark} height=\"20\" alt=\"logo\" />\r\n                              {step === 0 ? (\r\n                                <h4 className=\"font-size-18 mt-4\">\r\n                                  Register Your Author Account\r\n                                </h4>\r\n                              ) : (\r\n                                <h4 className=\"font-size-18 mt-4\">\r\n                                  Verify your Email\r\n                                </h4>\r\n                              )}\r\n                            </Link>\r\n                          </div>\r\n                        </div>\r\n                        {step === 0 ? (\r\n                          <div className=\"p-2 mt-5\">\r\n                            <AvForm>\r\n                              <div className=\"auth-form-group-custom mb-4\">\r\n                                <i className=\"ri-user-3-line auti-custom-input-icon\"></i>\r\n                                <Label htmlFor=\"useremail\">Full Name</Label>\r\n                                <AvField\r\n                                  name=\"firstname\"\r\n                                  validate={{ required: true }}\r\n                                  type=\"text\"\r\n                                  className=\"form-control\"\r\n                                  id=\"firstname\"\r\n                                  placeholder=\"Enter your full name\"\r\n                                  onChange={(e) => setName(e.target.value)}\r\n                                />\r\n                              </div>\r\n\r\n                              <div className=\"auth-form-group-custom mb-4\">\r\n                                <i className=\"ri-mail-line auti-custom-input-icon\"></i>\r\n                                <Label htmlFor=\"useremail\">Email</Label>\r\n                                <AvField\r\n                                  name=\"email\"\r\n                                  validate={{ email: true, required: true }}\r\n                                  type=\"email\"\r\n                                  className=\"form-control\"\r\n                                  id=\"useremail\"\r\n                                  placeholder=\"Enter your email\"\r\n                                  onChange={(e) => setEmail(e.target.value)}\r\n                                />\r\n                              </div>\r\n                              <div className=\"auth-form-group-custom mb-4\">\r\n                                <i className=\"ri-phone-line auti-custom-input-icon\"></i>\r\n                                <Label>Mobile</Label>\r\n                                <AvField\r\n                                  name=\"text\"\r\n                                  type=\"text\"\r\n                                  placeholder=\"Enter your phone\"\r\n                                  validate={{\r\n                                    pattern: {\r\n                                      value: \"^[0-9]+$\",\r\n                                    },\r\n                                  }}\r\n                                  onChange={(e) => setPhone(e.target.value)}\r\n                                />\r\n                              </div>\r\n                              <div className=\"auth-form-group-custom mb-4\">\r\n                                <i className=\"ri-lock-line auti-custom-input-icon\"></i>\r\n                                <Label htmlFor=\"useremail\">Password</Label>\r\n                                <AvField\r\n                                  name=\"password\"\r\n                                  placeholder=\"Enter your password\"\r\n                                  type=\"password\"\r\n                                  onChange={(e) => setPassword(e.target.value)}\r\n                                />\r\n                              </div>\r\n                              <div className=\"auth-form-group-custom mb-4\">\r\n                                <i className=\"ri-lock-line auti-custom-input-icon\"></i>\r\n                                <Label htmlFor=\"useremail\">\r\n                                  Confirm Password\r\n                                </Label>\r\n                                <AvField\r\n                                  name=\"password\"\r\n                                  placeholder=\"Confirm your password\"\r\n                                  type=\"password\"\r\n                                  onChange={(e) =>\r\n                                    setConfirmPassword(e.target.value)\r\n                                  }\r\n                                />\r\n                              </div>\r\n                              <div className=\"auth-form-group-custom mb-4\">\r\n                                <i className=\"ri-home-line auti-custom-input-icon\"></i>\r\n                                <Label>Address</Label>\r\n                                <AvField\r\n                                  name=\"text\"\r\n                                  type=\"text\"\r\n                                  placeholder=\"Enter your address\"\r\n                                  onChange={(e) => setAddress(e.target.value)}\r\n                                />\r\n                              </div>\r\n                              <div className=\"auth-form-group-custom mb-4\">\r\n                                <i className=\"ri-mail-send-line auti-custom-input-icon\"></i>\r\n                                <Label>Postal Code</Label>\r\n                                <AvField\r\n                                  name=\"text\"\r\n                                  type=\"text\"\r\n                                  placeholder=\"Enter your postal code\"\r\n                                  onChange={(e) =>\r\n                                    setPostalCode(e.target.value)\r\n                                  }\r\n                                />\r\n                              </div>\r\n                              <div className=\"auth-form-group-custom mb-4\">\r\n                                <i className=\"ri-building-4-line auti-custom-input-icon\"></i>\r\n                                <Label>City</Label>\r\n                                <AvField\r\n                                  name=\"text\"\r\n                                  type=\"text\"\r\n                                  placeholder=\"Enter your phone\"\r\n                                  onChange={(e) => setCity(e.target.value)}\r\n                                />\r\n                              </div>\r\n                              <div className=\"auth-form-group-custom mb-4\">\r\n                                <i className=\"ri-building-line auti-custom-input-icon\"></i>\r\n                                <Label>County</Label>\r\n                                <AvField\r\n                                  name=\"text\"\r\n                                  type=\"text\"\r\n                                  placeholder=\"Enter your phone\"\r\n                                  onChange={(e) => setCounty(e.target.value)}\r\n                                />\r\n                              </div>\r\n\r\n                              <div className=\"text-center\">\r\n                                <Button\r\n                                  color=\"primary\"\r\n                                  className=\"w-md waves-effect waves-light\"\r\n                                  type=\"submit\"\r\n                                  onClick={signUp}\r\n                                >\r\n                                  Register\r\n                                </Button>\r\n                              </div>\r\n\r\n                              <div className=\"mt-4 text-center\">\r\n                                <p className=\"mb-0\">\r\n                                  By registering you agree to the Nazox\r\n                                  <Link to=\"#\" className=\"text-primary\">\r\n                                    {\" \"}\r\n                                    Terms of Use\r\n                                  </Link>\r\n                                </p>\r\n                              </div>\r\n                            </AvForm>\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"verify-form\">\r\n                            <div className=\"verify-info-container\">\r\n                              <p\r\n                                className=\"verify-info\"\r\n                                style={{ textAlign: \"center\" }}\r\n                              >\r\n                                We have sent an OTP (One Time Password) to you.\r\n                                Please enter the code below to continue\r\n                              </p>\r\n                              {otpSuccess ? (\r\n                                <div>\r\n                                  <UncontrolledAlert\r\n                                    color=\"success\"\r\n                                    className=\"alert-dismissible fade show\"\r\n                                    role=\"alert\"\r\n                                  >\r\n                                    <i className=\"mdi mdi-check-all me-2\"></i>\r\n                                    OTP Verified! You will be redirected to\r\n                                    login!\r\n                                  </UncontrolledAlert>\r\n                                  {setTimeout(() => {\r\n                                    setRedirect(true);\r\n                                  }, 2000)}\r\n                                  {redirect ? <Redirect to=\"/login\" /> : null}\r\n                                </div>\r\n                              ) : null}\r\n                            </div>\r\n                            <div className=\"divOuter\">\r\n                              <div className=\"divInner\">\r\n                                <input\r\n                                  className=\"resend-code-input\"\r\n                                  type=\"text\"\r\n                                  maxLength={6}\r\n                                  onChange={(e) => setCode(e.target.value)}\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                            <p\r\n                              className=\"resend-code\"\r\n                              style={{ textAlign: \"center\" }}\r\n                            >\r\n                              Resend Code\r\n                            </p>\r\n                            <div className=\"continue-button\">\r\n                              <Button\r\n                                color=\"primary\"\r\n                                className=\"w-md waves-effect waves-light\"\r\n                                type=\"submit\"\r\n                                onClick={confirmSignup}\r\n                              >\r\n                                Continue\r\n                              </Button>\r\n                            </div>\r\n                            <p\r\n                              className=\"cancel-button\"\r\n                              onClick={() => {\r\n                                setStep(0);\r\n                              }}\r\n                            >\r\n                              {\" \"}\r\n                              Cancel{\" \"}\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n            <Col lg={7}>\r\n              <div className=\"authentication-bg\">\r\n                <div className=\"bg-overlay\"></div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default RegisterAdmin;\r\n"]},"metadata":{},"sourceType":"module"}